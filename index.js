(function(){"use strict";function d(t,e,i,r,n,o,u,h){var s=typeof t=="function"?t.options:t;e&&(s.render=e,s.staticRenderFns=i,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o);var a;if(u?(a=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),n&&n.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(u)},s._ssrRegister=a):n&&(a=h?function(){n.call(this,(s.functional?this.parent:this).$root.$options.shadowRoot)}:n),a)if(s.functional){s._injectStyles=a;var O=s.render;s.render=function(g,p){return a.call(p),O(g,p)}}else{var f=s.beforeCreate;s.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:s}}const c={data(){return{loading:!1,palette:[]}},props:{options:[Object,Array],display:String,size:String,unselect:Boolean,default:[String,Boolean],limit:Number,uri:String,label:String,disabled:Boolean,help:String,parent:String,value:[String,Array],name:[String,Number],required:Boolean,type:String},computed:{selected(){return Array.isArray(this.value)?this.value[0]:this.value},emptyOptions(){return!(this.isObject(this.options)?Object.keys(this.options).length:this.options.length)&&!this.extractor},emptyOptionsPlaceholder(){return this.$t("palette.empty.options")},colors(){return this.isQueryOptions(this.options)?this.options.map(t=>t.value):this.options}},created(){!this.value&&this.default&&(Array.isArray(this.colors)&&this.colors.find(t=>t==this.default)?(this.value=this.default,this.input()):this.isObject(this.colors)&&Object.keys(this.colors).find(t=>t==this.default)&&(this.value=this.colors[this.default],this.input()))},methods:{isValue(t){return this.isObject(t)?this.selected==t?!0:this.isObject(this.selected)?this.isEquivalent(this.selected,t):!1:this.selected==t},inlineStyle(t){return this.display=="duo"&&this.isObject(t)?"background: linear-gradient(to right, "+this.firstColor(t)+" 50%, "+this.secondColor(t)+" 50%);":"background:"+this.firstColor(t)},toTooltip(t){return this.isObject(t)&&t.tooltip?t.tooltip:!1},firstColor(t){if(this.isString(t))return t;if(this.isObject(t))return t[Object.keys(t)[0]]},secondColor(t){return this.isObject(t)?t[Object.keys(t)[1]]:!1},isString(t){return typeof t=="string"},isObject(t){return t!=null&&typeof t=="object"},isQueryOptions(t){if(!t.length)return!1;let e=t[0];return this.isObject(e)&&Object.keys(e).length==2&&Object.keys(e).includes("text")&&Object.keys(e).includes("value")},isEquivalent(t,e){let i=Object.keys(t),r=Object.keys(e),n=i.indexOf("key");n!==-1&&i.splice(n,1);let o=r.indexOf("key");if(o!==-1&&r.splice(o,1),i.length!=r.length)return!1;for(var u=0;u<i.length;u++){let h=i[u];if(t[h]!==e[h])return!1}return!0},input(t=!1,e){t&&(this.unselect&&this.isValue(t)&&(t=""),this.value=this.extractor?[t,this.extracted]:t,this.isObject(this.value)&&(this.value.key=e)),this.$emit("input",this.value)}}};var y=function(){var e=this,i=e._self._c;return i("k-field",e._b({staticClass:"k-color-palette-field"},"k-field",e.$props,!1),[e.emptyOptions?i("k-box",{staticClass:"color-palette_empty-options",attrs:{theme:"info"}},[e._v(" "+e._s(e.emptyOptionsPlaceholder)+" ")]):i("div",{staticClass:"color-palette_input"},[i("ul",{staticClass:"color-palette_input-list"},e._l(e.colors,function(r,n){return i("li",{key:n,class:[e.size,{active:e.isValue(r)},{unselect:e.unselect}],on:{click:function(o){return e.input(r,n)}}},[i("div",{staticClass:"color-palette_input-color",style:e.inlineStyle(r),attrs:{"data-tooltip":e.toTooltip(r)}})])}),0)])],1)},_=[],v=d(c,y,_,!1,null,null,null,null);const b=v.exports;panel.plugin("tobimori/color-palette",{fields:{"color-palette":b}})})();
